<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<title>Trip Analyzer</title>
	<link rel="stylesheet" href="./css/style.css">
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">	  
</head>
<body>
  <script src="./js/d3.v3.min.js"></script>
  <script src="./js/topojson.v1.min.js"></script>  
  <script src="./js/datamaps.world.min.js?v=1"></script>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>	
	
	
	<div id="dialog-form" title="- Tell us more about you -">
			
		<form>
			<fieldset>
				<label for="name">Name</label>
				<input type="text" name="name" id="form-name" value="" class="text ui-widget-content ui-corner-all">
				<input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
			</fieldset>
		</form>
	</div>
	
	<div id="divMain" style="text-align: center;" class="transparent">
		<div style="display: inline-block;">
			<div id="divContainer">
				<div id="divInput" class="main-div">
					user input: <input type="text" name="name" id="name" value="">				
				</div>	
				<div id="divMap" class="main-div"></div>
				<div id="divBottom" class="main-div">chart</div>
				<div id="divRight" class="main-div">right</div>
			</div>			
			<footer>&copy; Copyright 2019 Trip Analyzer</footer>
		</div>
	<div>
      
	<script>
	
		// user input
		$( function() {
			
			var dialog, form,	name = $( "#form-name" );					

			function processUserInput() {							
						
					var input = name.val();											
					dialog.dialog( "close" );				
					
					$("#divMain").removeClass("transparent");
					$("#divMain").addClass("fullyVisible");															
					$("#name").val(input);
			}
	 
			dialog = $("#dialog-form").dialog({
				autoOpen: false,
				height: 400,
				width: 350,
				modal: true,
				buttons: {
					"Submit": processUserInput
				},
				close: function() {
					form[0].reset();					
				}
			});
	 
			form = dialog.find( "form" ).on( "submit", function( event ) {
				event.preventDefault();				
				processUserInput();
			});
	 
			$(document).ready(function(){ 
				dialog.dialog( "open" );
			})
	 
	 
			
		} );		
			
		
   
		//basic map config with custom fills
		var map = new Datamap({
		
			scope: 'world',
			element: document.getElementById('divMap'),			
			height: 600,
			
			fills: {
				defaultFill: '#eeeeee',
				colorBlue: 'rgba(0,244,244,0.9)',
				colorRed: 'red',
				colorGreen: 'green',
				colorYellow: 'yellow',
				colorPink: 'pink',
				colorBrown: 'brown',
				colorBlack: 'black',
			}
	
			// data: {
				// USA: {fillKey: 'lt50' },
				// RUS: {fillKey: 'lt50' },
				// CAN: {fillKey: 'lt50' },
				// BRA: {fillKey: 'gt50' },
				// ARG: {fillKey: 'gt50'},
				// COL: {fillKey: 'gt50' },
				// AUS: {fillKey: 'gt50' },
				// ZAF: {fillKey: 'gt50' },
				// MAD: {fillKey: 'gt50' }       
			// }
		})
		  
		//sample of the arc plugin
		// map.arc([
			// {
			// origin: {
				// latitude: 40.639722,
				// longitude: 73.778889
			// },
			// destination: {
				// latitude: 37.618889,
				// longitude: -122.375
			// }
			// },
			// {
				// origin: {
					// latitude: 30.194444,
					// longitude: -97.67
				// },
				// destination: {
					// latitude: 25.793333,
					// longitude: -0.290556
				// }
			// }
		// ], {strokeWidth: 2});		 
  
		//bubbles, custom popup on hover template
		map.bubbles([
			{name: 'Wood', latitude: -37.81, longitude: 144.96, radius: 16, fillKey: 'colorBlue'},
			{name: 'Brian', latitude: 22.39, longitude: 114.11, radius: 8, fillKey: 'colorRed'},
			{name: 'Ankur', latitude: 23.39, longitude: 115.11, radius: 8, fillKey: 'colorGreen'},
			{name: 'SiOnn', latitude: 4.21, longitude: 101.98, radius: 20, fillKey: 'colorBrown'},
			{name: 'YouJung', latitude: 36.20, longitude: 138.25, radius: 10, fillKey: 'colorPink'},
			{name: 'XiaoQi', latitude: 29.43, longitude: 106.91, radius: 18, fillKey: 'colorYellow'},			
			{name: 'Georgia Tech', latitude: 33.95, longitude: -83.36, radius: 35, fillKey: 'colorBlack'},			
		], {
			popupTemplate: function(geo, data) { 
				return "<div class='hoverinfo'>" + data.name + " is here</div>";
			}
		});
		
	</script>
</body>

